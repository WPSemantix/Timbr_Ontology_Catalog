CREATE OR REPLACE PROPERTY `torecipients_emailaddress` string;
CREATE OR REPLACE PROPERTY `emailaddresses` string;
CREATE OR REPLACE PROPERTY `attendees_type` string;
CREATE OR REPLACE PROPERTY `assignedplans_capabilitystatus` string;
CREATE OR REPLACE PROPERTY `type` string;
CREATE OR REPLACE PROPERTY `odatatype` string;
CREATE OR REPLACE PROPERTY `skills` string;
CREATE OR REPLACE PROPERTY `changekey` string;
CREATE OR REPLACE PROPERTY `userrow` bigint;
CREATE OR REPLACE PROPERTY `children` string;
CREATE OR REPLACE PROPERTY `givenname` string;
CREATE OR REPLACE PROPERTY `location_uniqueidtype` string;
CREATE OR REPLACE PROPERTY `businessphones` string;
CREATE OR REPLACE PROPERTY `id` string;
CREATE OR REPLACE PROPERTY `originalstart` string;
CREATE OR REPLACE PROPERTY `state` string;
CREATE OR REPLACE PROPERTY `generation` string;
CREATE OR REPLACE PROPERTY `homephones` string;
CREATE OR REPLACE PROPERTY `profession` string;
CREATE OR REPLACE PROPERTY `start_timezone` string;
CREATE OR REPLACE PROPERTY `assignedlicenses_disabledplans` string;
CREATE OR REPLACE PROPERTY `locations_type` string;
CREATE OR REPLACE PROPERTY `mysite` string;
CREATE OR REPLACE PROPERTY `legalagegroupclassification` string;
CREATE OR REPLACE PROPERTY `userhascompletedata` boolean;
CREATE OR REPLACE PROPERTY `aboutme` string;
CREATE OR REPLACE PROPERTY `onpremisesimmutableid` string;
CREATE OR REPLACE PROPERTY `consentprovidedforminor` string;
CREATE OR REPLACE PROPERTY `schools` string;
CREATE OR REPLACE PROPERTY `companyname` string;
CREATE OR REPLACE PROPERTY `onlinemeetingprovider` string;
CREATE OR REPLACE PROPERTY `sensitivity` string;
CREATE OR REPLACE PROPERTY `padditionalinfo` string;
CREATE OR REPLACE PROPERTY `assignedlicenses_skuid` string;
CREATE OR REPLACE PROPERTY `attachments` string;
CREATE OR REPLACE PROPERTY `city` string;
CREATE OR REPLACE PROPERTY `attachments_size` string;
CREATE OR REPLACE PROPERTY `organizer_address` string;
CREATE OR REPLACE PROPERTY `preferredname` string;
CREATE OR REPLACE PROPERTY `responserequested` boolean;
CREATE OR REPLACE PROPERTY `attachments_odatatype` string;
CREATE OR REPLACE PROPERTY `yomicompanyname` string;
CREATE OR REPLACE PROPERTY `iscancelled` boolean;
CREATE OR REPLACE PROPERTY `sender_emailaddress` string;
CREATE OR REPLACE PROPERTY `pastprojects` string;
CREATE OR REPLACE PROPERTY `hasattachments` boolean;
CREATE OR REPLACE PROPERTY `surname` string;
CREATE OR REPLACE PROPERTY `nickname` string;
CREATE OR REPLACE PROPERTY `provisionedplans_capabilitystatus` string;
CREATE OR REPLACE PROPERTY `isonlinemeeting` boolean;
CREATE OR REPLACE PROPERTY `puser` string;
CREATE OR REPLACE PROPERTY `streetaddress` string;
CREATE OR REPLACE PROPERTY `categories` string;
CREATE OR REPLACE PROPERTY `attachments_contenttype` string;
CREATE OR REPLACE PROPERTY `provisionedplans_provisioningstatus` string;
CREATE OR REPLACE PROPERTY `location_displayname` string;
CREATE OR REPLACE PROPERTY `isorganizer` boolean;
CREATE OR REPLACE PROPERTY `errorinformation` string;
CREATE OR REPLACE PROPERTY `jobtitle` string;
CREATE OR REPLACE PROPERTY `manager` string;
CREATE OR REPLACE PROPERTY `usagelocation` string;
CREATE OR REPLACE PROPERTY `end_time` string;
CREATE OR REPLACE PROPERTY `spousename` string;
CREATE OR REPLACE PROPERTY `location_type` string;
CREATE OR REPLACE PROPERTY `location_uniqueid` string;
CREATE OR REPLACE PROPERTY `bodypreview` string;
CREATE OR REPLACE PROPERTY `locations_uniqueid` string;
CREATE OR REPLACE PROPERTY `end_timezone` string;
CREATE OR REPLACE PROPERTY `businesshomepage` string;
CREATE OR REPLACE PROPERTY `ptenant` string;
CREATE OR REPLACE PROPERTY `isread` boolean;
CREATE OR REPLACE PROPERTY `displayname` string;
CREATE OR REPLACE PROPERTY `isallday` boolean;
CREATE OR REPLACE PROPERTY `isreminderon` boolean;
CREATE OR REPLACE PROPERTY `interests` string;
CREATE OR REPLACE PROPERTY `country` string;
CREATE OR REPLACE PROPERTY `mail` string;
CREATE OR REPLACE PROPERTY `yomigivenname` string;
CREATE OR REPLACE PROPERTY `allownewtimeproposals` boolean;
CREATE OR REPLACE PROPERTY `proxyaddresses` string;
CREATE OR REPLACE PROPERTY `subject` string;
CREATE OR REPLACE PROPERTY `sender_name` string;
CREATE OR REPLACE PROPERTY `body` string;
CREATE OR REPLACE PROPERTY `icaluid` string;
CREATE OR REPLACE PROPERTY `hiredate` string;
CREATE OR REPLACE PROPERTY `sentdatetime` string;
CREATE OR REPLACE PROPERTY `responsibilities` string;
CREATE OR REPLACE PROPERTY `isusersummaryrow` boolean;
CREATE OR REPLACE PROPERTY `yomisurname` string;
CREATE OR REPLACE PROPERTY `onpremisessecurityidentifier` string;
CREATE OR REPLACE PROPERTY `assignedplans_assigneddatetime` string;
CREATE OR REPLACE PROPERTY `mobilephone` string;
CREATE OR REPLACE PROPERTY `userreturnednodata` boolean;
CREATE OR REPLACE PROPERTY `conversationindex` string;
CREATE OR REPLACE PROPERTY `assignedplans_service` string;
CREATE OR REPLACE PROPERTY `mailnickname` string;
CREATE OR REPLACE PROPERTY `fileas` string;
CREATE OR REPLACE PROPERTY `initials` string;
CREATE OR REPLACE PROPERTY `usertype` string;
CREATE OR REPLACE PROPERTY `seriesmasterid` string;
CREATE OR REPLACE PROPERTY `onlinemeeting` string;
CREATE OR REPLACE PROPERTY `reminderminutesbeforestart` bigint;
CREATE OR REPLACE PROPERTY `parentfolderid` string;
CREATE OR REPLACE PROPERTY `start_time` string;
CREATE OR REPLACE PROPERTY `userprincipalname` string;
CREATE OR REPLACE PROPERTY `torecipients_name` string;
CREATE OR REPLACE PROPERTY `preferredlanguage` string;
CREATE OR REPLACE PROPERTY `weblink` string;
CREATE OR REPLACE PROPERTY `originalendtimezone` string;
CREATE OR REPLACE PROPERTY `provisionedplans_service` string;
CREATE OR REPLACE PROPERTY `attendees_emailaddress` string;
CREATE OR REPLACE PROPERTY `createddatetime` string;
CREATE OR REPLACE PROPERTY `receiveddatetime` string;
CREATE OR REPLACE PROPERTY `birthday` string;
CREATE OR REPLACE PROPERTY `sentiment` MULTIVALUE string;
CREATE OR REPLACE PROPERTY `showas` string;
CREATE OR REPLACE PROPERTY `conversationid` string;
CREATE OR REPLACE PROPERTY `importance` string;
CREATE OR REPLACE PROPERTY `attachments_isinline` string;
CREATE OR REPLACE PROPERTY `attachments_name` string;
CREATE OR REPLACE PROPERTY `imaddresses` string;
CREATE OR REPLACE PROPERTY `title` string;
CREATE OR REPLACE PROPERTY `agegroup` string;
CREATE OR REPLACE PROPERTY `transactionid` string;
CREATE OR REPLACE PROPERTY `attachments_id` string;
CREATE OR REPLACE PROPERTY `attachments_lastmodifieddatetime` string;
CREATE OR REPLACE PROPERTY `assignedplans_serviceplanid` string;
CREATE OR REPLACE PROPERTY `attendees_name` string;
CREATE OR REPLACE PROPERTY `originalstarttimezone` string;
CREATE OR REPLACE PROPERTY `accountenabled` boolean;
CREATE OR REPLACE PROPERTY `isdraft` boolean;
CREATE OR REPLACE PROPERTY `postalcode` string;
CREATE OR REPLACE PROPERTY `onlinemeetingurl` string;
CREATE OR REPLACE PROPERTY `replyto` string;
CREATE OR REPLACE PROPERTY `officelocation` string;
CREATE OR REPLACE PROPERTY `department` string;
CREATE OR REPLACE PROPERTY `passwordpolicies` string;
CREATE OR REPLACE PROPERTY `onpremisessyncenabled` string;
CREATE OR REPLACE PROPERTY `internetmessageid` string;
CREATE OR REPLACE PROPERTY `onpremiseslastsyncdatetime` string;
CREATE OR REPLACE PROPERTY `response_status` string;
CREATE OR REPLACE PROPERTY `middlename` string;
CREATE OR REPLACE PROPERTY `locations_displayname` string;
CREATE OR REPLACE PROPERTY `pagerow` bigint;
CREATE OR REPLACE PROPERTY `lastmodifieddatetime` string;
CREATE OR REPLACE PROPERTY `assistantname` string;
CREATE OR REPLACE PROPERTY `datarow` bigint;
CREATE OR REPLACE PROPERTY `personalnotes` string;
CREATE OR REPLACE PROPERTY `flag_status` string;
CREATE OR REPLACE PROPERTY `locations_uniqueidtype` string;
CREATE OR REPLACE PROPERTY `response_time` string;
CREATE OR REPLACE PROPERTY `organizer_name` string;
CREATE OR REPLACE CONCEPT `user` (`state` string, `mailnickname` string, `legalagegroupclassification` string, `surname` string, `assignedplans_assigneddatetime` string, `mail` string, `assignedlicenses_disabledplans` string, `assignedplans_service` string, `assignedlicenses_skuid` string, `assignedplans_capabilitystatus` string, `hiredate` string, `consentprovidedforminor` string, `onpremisessecurityidentifier` string, `onpremiseslastsyncdatetime` string, `proxyaddresses` string, `officelocation` string, `userrow` bigint, `userprincipalname` string, `userhascompletedata` boolean, `provisionedplans_capabilitystatus` string, `country` string, `userreturnednodata` boolean, `mysite` string, `datarow` bigint, `displayname` string, `usertype` string, `padditionalinfo` string, `assignedplans_serviceplanid` string, `skills` string, `puser` string, `interests` string, `isusersummaryrow` boolean, `preferredlanguage` string, `birthday` string, `passwordpolicies` string, `pagerow` bigint, `schools` string, `city` string, `businessphones` string, `mobilephone` string, `createddatetime` string, `postalcode` string, `streetaddress` string, `preferredname` string, `givenname` string, `provisionedplans_service` string, `agegroup` string, `companyname` string, `onpremisesimmutableid` string, `provisionedplans_provisioningstatus` string, `jobtitle` string, `id` string, `aboutme` string, `accountenabled` boolean, `imaddresses` string, `usagelocation` string, `errorinformation` string, `ptenant` string, `responsibilities` string, `pastprojects` string, `department` string, `onpremisessyncenabled` string, PRIMARY KEY (`id`), LABEL (`displayname`), CONSTRAINT `of_person` FOREIGN KEY (`mail`) REFERENCES `person` (`mail`) INVERSEOF `has_user` , CONSTRAINT `in_address_book` FOREIGN KEY (`mail`) REFERENCES `contact_information` (`emailaddresses`) INVERSEOF `has_user_` , CONSTRAINT `received` FOREIGN KEY (`mail`) REFERENCES `message` (`torecipients_emailaddress`) INVERSEOF `of_recipient` , CONSTRAINT `sent` FOREIGN KEY (`mail`) REFERENCES `message` (`sender_emailaddress`) INVERSEOF `of_sender` ) INHERITS (`thing`) WITH TAGS (`icon` = 'fa-user');
CREATE OR REPLACE CONCEPT `person` (`state` string, `mailnickname` string, `legalagegroupclassification` string, `surname` string, `assignedplans_assigneddatetime` string, `mail` string, `assignedlicenses_disabledplans` string, `assignedplans_service` string, `assignedlicenses_skuid` string, `assignedplans_capabilitystatus` string, `consentprovidedforminor` string, `onpremisessecurityidentifier` string, `onpremiseslastsyncdatetime` string, `proxyaddresses` string, `officelocation` string, `userrow` bigint, `userprincipalname` string, `userhascompletedata` boolean, `provisionedplans_capabilitystatus` string, `country` string, `userreturnednodata` boolean, `datarow` bigint, `displayname` string, `usertype` string, `padditionalinfo` string, `assignedplans_serviceplanid` string, `puser` string, `isusersummaryrow` boolean, `preferredlanguage` string, `passwordpolicies` string, `pagerow` bigint, `city` string, `businessphones` string, `mobilephone` string, `createddatetime` string, `postalcode` string, `streetaddress` string, `givenname` string, `provisionedplans_service` string, `agegroup` string, `companyname` string, `onpremisesimmutableid` string, `provisionedplans_provisioningstatus` string, `jobtitle` string, `id` string, `accountenabled` boolean, `imaddresses` string, `usagelocation` string, `errorinformation` string, `ptenant` string, `department` string, `onpremisessyncenabled` string, PRIMARY KEY (`id`), LABEL (`displayname`)) INHERITS (`thing`) WITH TAGS (`icon` = 'fa-person');
CREATE OR REPLACE CONCEPT `message` (`puser` string, `sender_name` string, `categories` string, `isdraft` boolean, `importance` string, `attachments_lastmodifieddatetime` string, `isusersummaryrow` boolean, `pagerow` bigint, `torecipients_emailaddress` string, `conversationid` string, `attachments_size` string, `isread` boolean, `replyto` string, `createddatetime` string, `subject` string, `hasattachments` boolean, `attachments_odatatype` string, `sentdatetime` string, `odatatype` string, `bodypreview` string, `id` string, `conversationindex` string, `attachments_isinline` string, `attachments_id` string, `userrow` bigint, `sender_emailaddress` string, `userhascompletedata` boolean, `userreturnednodata` boolean, `body` string, `lastmodifieddatetime` string, `flag_status` string, `datarow` bigint, `internetmessageid` string, `errorinformation` string, `ptenant` string, `attachments_contenttype` string, `torecipients_name` string, `changekey` string, `padditionalinfo` string, `parentfolderid` string, `receiveddatetime` string, `attachments_name` string, PRIMARY KEY (`id`), LABEL (`subject`, `createddatetime`), CONSTRAINT `sentiment` MULTIVALUE string) INHERITS (`thing`) WITH TAGS (`icon` = 'fa-envelope');
CREATE OR REPLACE CONCEPT `event` (`type` string, `importance` string, `end_time` string, `location_uniqueidtype` string, `start_timezone` string, `originalstarttimezone` string, `subject` string, `hasattachments` boolean, `isonlinemeeting` boolean, `end_timezone` string, `onlinemeetingurl` string, `attendees_name` string, `icaluid` string, `attendees_type` string, `odatatype` string, `organizer_address` string, `iscancelled` boolean, `location_uniqueid` string, `start_time` string, `bodypreview` string, `isreminderon` boolean, `userrow` bigint, `onlinemeeting` string, `userhascompletedata` boolean, `userreturnednodata` boolean, `body` string, `lastmodifieddatetime` string, `datarow` bigint, `response_status` string, `showas` string, `locations_displayname` string, `location_displayname` string, `padditionalinfo` string, `puser` string, `onlinemeetingprovider` string, `responserequested` boolean, `categories` string, `isusersummaryrow` boolean, `transactionid` string, `pagerow` bigint, `organizer_name` string, `seriesmasterid` string, `locations_uniqueidtype` string, `originalstart` string, `createddatetime` string, `location_type` string, `locations_uniqueid` string, `attendees_emailaddress` string, `response_time` string, `attachments` string, `originalendtimezone` string, `id` string, `isorganizer` boolean, `reminderminutesbeforestart` bigint, `weblink` string, `allownewtimeproposals` boolean, `isallday` boolean, `sensitivity` string, `errorinformation` string, `ptenant` string, `changekey` string, `locations_type` string, PRIMARY KEY (`id`), LABEL (`subject`), CONSTRAINT `has_attendee` FOREIGN KEY (`attendees_emailaddress`) REFERENCES `user` (`mail`) INVERSEOF `attendee_of` , CONSTRAINT `organized_by` FOREIGN KEY (`organizer_address`) REFERENCES `user` (`mail`) INVERSEOF `organizer_of` ) INHERITS (`thing`) WITH TAGS (`icon` = 'fa-calendar-days');
CREATE OR REPLACE CONCEPT `contact_information` (`puser` string, `categories` string, `surname` string, `birthday` string, `isusersummaryrow` boolean, `pagerow` bigint, `businessphones` string, `mobilephone` string, `initials` string, `createddatetime` string, `generation` string, `businesshomepage` string, `manager` string, `title` string, `children` string, `givenname` string, `homephones` string, `companyname` string, `odatatype` string, `profession` string, `middlename` string, `jobtitle` string, `officelocation` string, `id` string, `personalnotes` string, `nickname` string, `assistantname` string, `userrow` bigint, `yomigivenname` string, `userhascompletedata` boolean, `yomisurname` string, `imaddresses` string, `userreturnednodata` boolean, `fileas` string, `lastmodifieddatetime` string, `datarow` bigint, `displayname` string, `errorinformation` string, `spousename` string, `ptenant` string, `emailaddresses` string, `department` string, `changekey` string, `yomicompanyname` string, `padditionalinfo` string, `parentfolderid` string, PRIMARY KEY (`id`), LABEL (`displayname`)) INHERITS (`thing`) WITH TAGS (`icon` = 'fa-contact-book');
CREATE OR REPLACE CONCEPT `manager`  INHERITS (`person`);
CREATE OR REPLACE CONCEPT `direct_report`  INHERITS (`person`);
CREATE OR REPLACE CONCEPT `teams_chat_message`  INHERITS (`message`);
CREATE OR REPLACE CONCEPT `email_message`  INHERITS (`message`);
CREATE OR REPLACE CONCEPT `one_on_one_message`  INHERITS (`teams_chat_message`) FROM timbr.`teams_chat_message` WHERE LENGTH(CAST(`torecipients_emailaddress` AS VARCHAR(128))) <= 36;
CREATE OR REPLACE CONCEPT `group_message`  INHERITS (`teams_chat_message`) FROM timbr.`teams_chat_message` WHERE LENGTH(CAST(`torecipients_emailaddress` AS VARCHAR(128))) > 36;
CREATE OR REPLACE CONCEPT `email_sent_message`  INHERITS (`email_message`);
CREATE OR REPLACE CONCEPT `email_received_message`  INHERITS (`email_message`);